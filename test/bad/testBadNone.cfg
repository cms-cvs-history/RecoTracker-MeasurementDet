process TEST = {
    include "RecoTracker/MeasurementDet/test/bad/source.cff"

    es_source a = PoolDBESSource {
        string appendToDataLabel = "SiStripBadModule_v1"
        VPSet toGet = { { string record = "SiStripBadModuleRcd"  string tag = "SiStripBadModule_v1"} }
        string connect = "sqlite_file:dbfile.db"
        string timetype = "runnumber"
        untracked string BlobStreamerName="DefaultBlobStreamingService"
        PSet DBParameters ={
            untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
        }
    }

    es_source b = PoolDBESSource {
        string appendToDataLabel = "SiStripBadFiber_v1"
        VPSet toGet = { { string record = "SiStripBadFiberRcd"   string tag = "SiStripBadFiber_v1"} }
        string connect = "sqlite_file:dbfile.db"
        string timetype = "runnumber"
        untracked string BlobStreamerName="DefaultBlobStreamingService"
        PSet DBParameters ={
            untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
        }
    }

    es_source c = PoolDBESSource {
        string appendToDataLabel = "SiStripBadChannel_v1"
        VPSet toGet = { { string record = "SiStripBadChannelRcd" string tag = "SiStripBadChannel_v1"} }
        string connect = "sqlite_file:dbfile.db"
        string timetype = "runnumber"
        untracked string BlobStreamerName="DefaultBlobStreamingService"
        PSet DBParameters ={
            untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
        }
    }


    include "CalibTracker/SiStripESProducers/data/SiStripQualityESProducer.cfi"

    include "Configuration/StandardSequences/data/Reconstruction.cff"
    include "Configuration/StandardSequences/data/FakeConditions.cff"


    replace MeasurementTracker.UseStripModuleQualityDB = true
    replace MeasurementTracker.DebugStripModuleQualityDB = true
    replace MeasurementTracker.UseStripAPVFiberQualityDB = true
    replace MeasurementTracker.DebugStripAPVFiberQualityDB = true
    replace MeasurementTracker.UseStripStripQualityDB = true

    path p = { trackerlocalreco,ckftracks }
 
    untracked PSet options = { untracked bool wantSummary = true }

    module info = AsciiOutputModule{}
    include "RecoTracker/MeasurementDet/test/bad/validation.cff"
    endpath e = { info }

}
